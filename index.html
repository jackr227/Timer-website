<!DOCTYPE html>
<html>
<head>
    <title>LiquidExchange Lounge Grand Opening</title>
    <style>
        body {
            background: url('background.jpg') no-repeat center center fixed;
            background-size: cover;
            color: #00FFFF;
            text-align: center;
            font-family: "Georgia", serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
        }

        h1 {
            color: #63006E;
            font-family: "Times New Roman", serif;
            font-size: 2.5em;
        }

        #timer {
            font-size: 2.2em;
            color: #00FFFF;
            animation: fadeInOut 3s linear infinite;
        }

        #excitement-message {
            font-size: 2em;
            margin-top: 20px;
            color: #00FFFF;
        }

        @keyframes fadeInOut {
            0%, 100% { opacity: 0; }
            50% { opacity: 1; }
        }

        .cta-button {
            background-color: #63006E;
            color: #00FFFF;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            font-size: 1.5em;
            cursor: pointer;
        }

        #click-counter {
            font-size: 1.2em;
            margin-top: 10px;
        }

        /* Confetti Styles */
        .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            background-color: #ffdc00;
            opacity: 0.7;
            transform: rotate(45deg);
            animation: confetti-fall 4s linear infinite;
        }

        @keyframes confetti-fall {
            0% { transform: translateY(-100vh) rotate(45deg); }
            100% { transform: translateY(100vh) rotate(45deg); }
        }
    </style>
</head>
<body>
    <h1>Welcome to the LiquidExchange Lounge Grand Opening!</h1>
    <p id="timer">Countdown to the Grand Opening</p>
    <p id="excitement-message">Get ready for an unforgettable night of fun! Check back often for updates and remember, "In the world of stocks, we've found the perfect mix of bulls, bears, and good times!"</p>

    <!-- Call to Action Button -->
    <button class="cta-button" id="attendance-button">I'll be there</button>

    <!-- Click Counter -->
    <p id="click-counter">0 people will be there</p>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const counter = document.getElementById('click-counter');
            const button = document.getElementById('attendance-button');

            function isButtonClicked() {
                return localStorage.getItem('buttonClicked') === 'true';
            }

            function updateButtonState() {
                if (isButtonClicked()) {
                    button.disabled = true;
                    button.textContent = "Already Clicked";
                }
            }

            function updateCounter(count) {
                counter.textContent = `${count} ${count === 1 ? 'person' : 'people'} will be there`;
            }

            function fetchCounter() {
                fetch('counter.php')
                    .then(response => response.text())
                    .then(data => {
                        const count = parseInt(data);
                        updateCounter(count);
                        updateButtonState();
                    })
                    .catch error => {
                        console.error('Error fetching counter:', error);
                    });
            }

            function incrementCounter() {
                fetch('counter.php', { method: 'POST' })
                    .then(response => response.text())
                    .then(data => {
                        const count = parseInt(data);
                        updateCounter(count);
                        updateButtonState();
                    })
                    .catch(error => {
                        console.error('Error incrementing counter:', error);
                    });
            }

            // Function to create confetti
            function createConfetti() {
                const confetti = document.createElement('div');
                confetti.classList.add('confetti');
                const xPos = Math.random() * window.innerWidth;
                const yPos = -10;
                confetti.style.left = `${xPos}px`;
                confetti.style.top = `${yPos}px`;
                document.body.appendChild(confetti);

                // Remove the confetti element after animation
                confetti.addEventListener('animationiteration', () => {
                    document.body.removeChild(confetti);
                });
            }

            fetchCounter();

            button.addEventListener('click', function () {
                incrementCounter();
                localStorage.setItem('buttonClicked', 'true');
                updateButtonState();

                // Create confetti when the button is clicked
                createConfetti();
            });
        });
    </script>
</body>
</html>
